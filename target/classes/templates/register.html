<!DOCTYPE html>
<html lang="en"  xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{/common/fragument.html :: head(title='Register')}">

</head>

<body>
    <!-- message_header -->
    <th:block th:insert="~{/common/fragument.html :: header}"></th:block>
    <!-- end header -->

    <main>
        <div class="container">
            <div class="login__container">
                <div class="login__container-title">
                    <h3>
                        đăng kí tài khoản
                    </h3>
                </div>

                <div class="login__container-form">
                    <div class="login__container-form-title">
                        <h3>
                            đăng kí
                        </h3>
                    </div>
                    <div th:if="${errorMess != null}" class="p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400" role="alert">
                        <span class="font-medium text-2xl" th:text="${errorMess}">Info alert!</span>
                    </div>
                    <form action="/account/register" method="post" th:object="${accountRegister}">

                        <div class="login__container-form-item">
                            <input th:field="*{email}" type="text" id="email" placeholder="email" name="email">
                        </div>

                        <div class="login__container-form-item">
                            <input th:field="*{fullname}" type="text" id="fullname" placeholder="Nhập họ và tên" name="fullname">
                        </div>

                        <div class="login__container-form-item">
                            <input th:field="*{username}" type="text" id="username" placeholder="Nhập tên đăng nhập" name="username">
                        </div>

                        <div class="login__container-form-item">
                            <input th:field="*{password}" type="password" id="password" placeholder="Nhập mật khẩu" name="password">
                        </div>

                        <div class="login__container-form-item">
                            <input type="password" id="password__confirm" placeholder="Nhập lại mật khẩu"
                                name="password__confirm">
                        </div>



                        <div class="login__container-form-item-pls">
                            <div class="login__container-form-gender">
                                <label for="">Giới tính</label>
                                <select name="gender" id="gender" th:field="*{gender}">
                                    <option value="true">Nam</option>
                                    <option value="false">Nữ</option>
                                </select>
                            </div>

                            <div class="login__container-form-date">
                                <div class="login__container-form-item-birthday">
                                    <div class="login__container-form-item-birthday-title">
                                        <label for="birthday">Ngày tháng năm sinh</label>
                                    </div>

                                    <div class="login__container-form-item-birthday-input">
                                        <input type="date" id="birthday" name="birthday" value="2021-09-30" th:field="*{birthDay}"
                                            min="1900-01-01" max="2021-12-31">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="login__container-form-item">
                            <button type="submit">
                                đăng kí
                            </button>
                        </div>

                        <div class="login__container-form-item">
                            <div class="option__login">
                                --or--
                            </div>
                        </div>

                        <div class="login__container-form-item">
                            <div class="option__login-social">
                                <ul class="list__social">
                                    <li class="list__social-item facebook">
                                        <a href="">
                                            FACEBOOK <i class="fa-brands fa-facebook"></i>
                                        </a>
                                    </li>

                                    <li class="list__social-item google">
                                        <a href="">
                                            GOOGLE <i class="fa-brands fa-google"></i>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div class="login__container-form-item">
                            <div class="option__register">
                                <a th:href="@{/account/login}">
                                    Bạn đã có tài khoản ?
                                </a>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </main>


    <th:block th:insert="~{/common/fragument.html :: footer}"></th:block>
</body>

<script th:src="@{/js/header-overlay.js}"></script>
<script  th:inline="javascript">
    // Kiểm tra xem có thông báo thành công được truyền từ controller không
    const successMessage = [[${successMessage}]];
    if(successMessage == null  ){

    }
    else if(successMessage){
        Swal.fire({
            icon:"success",
            title:"Thông Báo",
            text:successMessage,
            customClass: {
                title: 'text-2xl',
                htmlContainer: 'text-2xl',
                text: 'text-2xl'
            }
        }).then(function (){
            window.location.href ="/account/login";
        })
    }else{
        Swal.fire({
            icon:"error",
            title:"Thông Báo",
            text:errorMessage
        })
    }

</script>

</html>