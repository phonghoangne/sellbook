<!DOCTYPE html>
<html lang="en"  xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{/common/fragument.html :: head(title='Login')}">

</head>

<body>
    <!-- message_header -->
    <th:block th:insert="~{/common/fragument.html :: header}"></th:block>
    <!-- end header -->

    <main>
        <div class="container">
            <div class="login__container">
                <div class="login__container-title">
                    <h3>
                        đăng nhập tài khoản
                    </h3>
                </div>

                <div class="login__container-form">
                    <div class="login__container-form-title">
                        <h3>
                            đăng nhập
                        </h3>
                    </div>
                    <form action="/account/login" method="post" th:object="${accountLoginDTO}">
                        <div class="login__container-form-item">
                            <input type="text" id="username" th:field="*{username}" placeholder="Nhập tên đăng nhập">
                        </div>

                        <div class="login__container-form-item" >
                            <input   type="password"  name="password" th:value="*{password}"  placeholder="Nhập mật khẩu">
                        </div>

                        <div class="option__account">
                            <div class="option__account-item">
                                <input type="checkbox" id="remember" th:field="*{remember}">
                                <label for="remember">
                                    Ghi nhớ đăng nhập
                                </label>
                            </div>

                            <div class="option__account-item">
                                <a th:href="@{/account/forgot}">
                                    Quên mật khẩu?
                                </a>
                            </div>
                        </div>

                        <div class="login__container-form-item">
                            <button type="submit">
                                đăng nhập
                            </button>
                        </div>

                        <div class="login__container-form-item">
                            <div class="option__login">
                                --or--
                            </div>
                        </div>

                        <div class="login__container-form-item">
                            <div class="option__login-social">
                                <ul class="list__social">
                                    <li class="list__social-item facebook">
                                        <a href="">
                                            FACEBOOK <i class="fa-brands fa-facebook"></i>
                                        </a>
                                    </li>

                                    <li class="list__social-item google">
                                        <a href="">
                                            GOOGLE <i class="fa-brands fa-google"></i>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div class="login__container-form-item">
                            <div class="option__register">
                                <a th:href="@{/account/register}">
                                    Bạn chưa có tài khoản ?
                                </a>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </main>


    <th:block th:insert="~{/common/fragument.html :: footer}"></th:block>
</body>

<script th:src="@{/js/header-overlay.js}"></script>
<script  th:inline="javascript">
    // Kiểm tra xem có thông báo thành công được truyền từ controller không
    const successMessage = [[${successMessage}]];
    const errorMessage = [[${errorMessage}]];
    if(successMessage == null && errorMessage == null ){

    }
    else if(successMessage){
        Swal.fire({
            icon:"success",
            title:"Thông Báo",
            text:successMessage,
            customClass: {
                title: 'text-5xl',
                htmlContainer: 'text-5xl',
                text: 'text-5xl'
            }
        }).then(function (){
                window.location.href ="/home/view";
        })
    }else{
        Swal.fire({
            icon:"error",
            title:"Thông Báo",
            text:errorMessage
        }).then(function (){
             document.getElementById('password').value ='';
        })
    }

    // const infor = [[${infor}]]
    // if(infor){
    //     Swal.fire({
    //         icon:"infor",
    //         title:"Thông Báo",
    //         text:infor,
    //     }).then({
    //
    //     })
    // }
    // function updatePassword() {
    //     var passwordInput = document.getElementById('password');
    //     var password1Input = document.getElementById('password1');
    //
    //     // Lấy giá trị từ password1
    //     var password1Value = password1Input.value;
    //
    //     // Kiểm tra nếu password1 không rỗng thì cập nhật giá trị cho password
    //     if (password1Value !== '') {
    //         passwordInput.value = password1Value;
    //     }
    // }
    //
    // // Gọi hàm khi trang web được tải
    // window.onload = function () {
    //     updatePassword();
    // };
</script>

</html>